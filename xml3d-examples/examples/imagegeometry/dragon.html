<!doctype html>
<html lang="en">
  <head>
    <!-- Style -->
    <link rel="stylesheet" type="text/css" media="all" href="../../style/page.css" />
    <!-- Scripts -->
    <script type="text/javascript" src="../../script/xml3d.js"></script>
    <script type="text/javascript" src="../../script/jquery.min.js"></script>
    <script type="text/javascript" src="../../script/page.js"></script>
    <script type="text/javascript" src="./sig-shader2.js"></script>
    <title>XML3D Examples</title>
    <script type="text/javascript" src="../../script/xml3d-camera.js"></script>
  </head>
  <body>
    <div id="overall">
      <div id="content">
        <h1>Image Geometry</h1>
        <xml3d id="MyXml3d" activeView="#view" class="xml3d" style="width: 600px; height: 400px;" >
          <view id="view" position="0 0 55" />
          <defs>
            <!-- Lights -->
            <transform id="dragonXfm" scale="100 100 100" translation="0 0 25" />
            <transform id="light1Xfm" translation="0 10 0" />
            <transform id="light2Xfm" translation="5 10 0" />
            <transform id="meshXfm" translation="0 0 20" scale="5 5 5" />
            <lightshader id="light1" script="urn:xml3d:lightshader:point">
              <float3 name="intensity">200.0 200.0 200.0</float3>
              <float3 name="attenuation">0.0 0.0 1.0</float3>
            </lightshader>
            <lightshader id="light2" script="urn:xml3d:lightshader:point">
              <float3 name="intensity">0.0 0.0 0.0</float3>
              <float3 name="attenuation">0.0 0.0 1.0</float3>
            </lightshader>
            <shader id="Phong" script="urn:xml3d:shader:sig-eyelight">
              <float3 name="diffuseColor">0.5 0.5 0.5</float3>
              <float name="ambientIntensity">0.0</float>
            </shader>
            <shader id="Matte" script="urn:xml3d:shader:matte">
              <texture name="diffuseTexture">
                <img src="./textures/DiffuseTexture.png" />
              </texture>
            </shader>
            <data id="meshData">
              <data compute="texcoord = xflow.createIGIndex(vertexCount, positionTex)">
                <int name="vertexCount">2610048</int>
                <float3 name="boundingBox">-0.10244499892 -0.0722220018505 -0.0458104982972 0.10244499892 0.0722220018505 0.0458104982972</float3>
                <texture name="positionTex">
                  <img src="./textures/dragon/AOPT160565328_coordImage0.png" />
                </texture>
                <texture name="positionTex2">
                  <img src="./textures/dragon/AOPT160565328_coordImage1.png" />
                </texture>
                <texture name="normalTex">
                  <img src="./textures/dragon/AOPT160565328_normalImage.png" />
                </texture>
                <texture name="texcoordTex">
                  <img src="./textures/TexCoordTexture.png" />
                </texture>
              </data>
            </data>
          </defs>
          <group id="root">
            <group transform="#light1Xfm">
              <light shader="#light1"></light>
            </group>
            <group transform="#light2Xfm">
              <light shader="#light2"></light>
            </group>
            <group shader="#Phong" transform="#dragonXfm">
              <mesh type="triangles" src="#meshData"></mesh>
            </group>
          </group>
        </xml3d>
        <div class="description">TODO</div>
      </div>
    </div>
  </body>
</html>
